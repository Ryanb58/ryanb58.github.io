<!DOCTYPE html>
<html>
    
    <head>
    <title>Getting Selenium To Wait For Ajax</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/css/style.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LD3MQXQGQ2"></script>
    <script src="https://app.sitepixel.io/pixel/index.js" id="widgetjs" site_id="10" />
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-LD3MQXQGQ2');
    </script>
</head>

    <body>
        <nav><ul>
    <li><a href="/">Home</a></li>
    
        <li><a href="/about/">About</a></li>
    
</ul></nav>

        <h1>Getting Selenium To Wait For Ajax</h1>
        <p><i>Posted on 2016-04-18</i></p>
        <p>Recently, my buddy <a href="http://davidgalitsky.com/">David</a> and I were getting frustrated with some selenium tests. The issue being that we run into several cases where Ajax calls are still being ran while selenium is trying to move on to the next line of code.</p>
<p>Finally, we figured out the solution below. Basically, what it does is return a Boolean based on the amount of active jQuery Ajax calls that are going on right now. When the boolean is True the WebDriverWait function allows us to move along in our code. It is a simple, but necessary evil to get selenium tests to work as expected.</p>
<pre><code>from selenium.webdriver.support.ui import WebDriverWait
WebDriverWait(self.driver, 5).until(lambda x: self.driver.execute_script(&quot;return $.active == 0&quot;))&lt;/pre&gt;
</code></pre>
<p>** Note requires jQuery</p>
        <hr />
        <p><a href="https://taylorbrazelton.com">Return to the homepage &#10558;</a></p>
    </body>
</html>