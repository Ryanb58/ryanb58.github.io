<!DOCTYPE html>
<html>
    
    <head>
    <title>The Bad Multi-Tenant SAAS Pattern</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Taylor Brazelton's personal blog - Software engineer sharing insights on Python, AWS, DevOps, and business." />
    <meta name="author" content="Taylor Brazelton" />
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="The Bad Multi-Tenant SAAS Pattern" />
    <meta property="og:description" content="Software engineer sharing insights on Python, AWS, DevOps, and business." />
    <meta property="og:url" content="https://taylorbrazelton.com" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:creator" content="@Ryanb58" />
    
    <!-- RSS Feed -->
    <link rel="alternate" type="application/rss+xml" title="Taylor Brazelton RSS Feed" href="/feed/rss.xml" />
    
    <!-- Emoji Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ‘€</text></svg>">

    <link rel="stylesheet" href="/static/css/style.css" />
    <!-- <link rel="stylesheet" href="/css/typebase.css"> -->
    <link
        href="https://unpkg.com/basscss@8.0.2/css/basscss.min.css"
        rel="stylesheet"
    />

    <link
        rel="stylesheet"
        href="/static/3rdparty/highlight/styles/dark.min.css"
    />
    <script src="/static/3rdparty/highlight/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>

    <script defer src="https://umami.taylorbrazelton.com/script.js" data-website-id="bae6a05d-d545-4d68-9810-f6e03a2965e0"></script>

    <script type="module">
        import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
        mermaid.initialize({ startOnLoad: true });
    </script>

    <script type="text/javascript">
        (function (c, l, a, r, i, t, y) {
            c[a] =
                c[a] ||
                function () {
                    (c[a].q = c[a].q || []).push(arguments);
                };
            t = l.createElement(r);
            t.async = 1;
            t.src = "https://www.clarity.ms/tag/" + i;
            y = l.getElementsByTagName(r)[0];
            y.parentNode.insertBefore(t, y);
        })(window, document, "clarity", "script", "molkkkznzg");
    </script>
</head>

    <body>
        <nav>
    <ul>
        <li><a href="/">Home</a></li>
        
        <li><a href="/about/">About</a></li>
        
        <li><a href="/creations/">Creations</a></li>
        
        <li><a href="/tools/">Tools</a></li>
        
        <li><a href="/feed/rss.xml" target="_blank">RSS</a></li>
    </ul>
</nav>

        <h1>The Bad Multi-Tenant SAAS Pattern</h1>
        <div class="post-body">
            <p>Note: This article assumes PostgreSQL.</p>
<p>Multi-tenant web apps are currently all the rage. Just take a look at the top tech stocks for July of 2020. Adobe, Salesforce, Microsoft... most if not all of them provide some sort of software as a service. SAAS has taken the web by storm, but there is one specific hidden pattern that is being taught that I MUST ADDRESS.</p>
<p>The majority of data access strategies for multi-tenant applications are garbage. If you search the web, you'll find lots of articles giving multiple solutions to this problem. Let's go ahead and list the main ones below.</p>
<ul>
<li>Shared database and shared schema.</li>
<li>Shared data and separate schemas per tenant.</li>
<li>Separate databases per tenant.</li>
</ul>
<p>From the list above the bottom two are DEAD wrong. You might wonder.. but why Let me dive in deep.</p>
<h4>First up is database resources.</h4>
<p>Since Postgres defines one file on disk per table, you will have a hard limit at the maximum amount of files allowed in a single folder. What is that limit? Heck, do you even know what operating system your database server is even running on? How good is your kernel at handling this madness?</p>
<h4>Next, lets talk about migrations.</h4>
<p>SAAS apps use migrations. It's the easiest way to make changes to the database schema while keeping track of them all. This also forces us, developers, to think more in-depth about our changes since they will go through peer reviews. Imagine having to run a migration on a few of your tenant's databases or schemas.. not horrible but the computational complexity for a multi-database or shame approach raises the migration bar from O(1) to O(n), where <code>n</code> is the number of tenants you have. Now imagine your app takes off.. grows to a couple of thousand tenants. That's quite the wrench in your CD/CI process. Might as well use the waterfall methodology from this point forward.</p>
<h4>Issues with Active Records ORMs.</h4>
<p>ORMs are a tool that almost every app uses nowadays, they are the essential workers of the SAAS world. ORMs that follow the Active Record pattern have one main thing in common, they all reach out to the database to load up a metadata blob full of them juicy table details. This will dramatically increase your process size when starting up your production servers. Thus unnecessarily bloating your app servers. Say bye-bye to those AWS Dollar bills.</p>
<h4>Global Reports</h4>
<p>Someone from the business side of the house wants a report that contains stats from all of your tenants... Good luck. Who would have realized that you now have duplicate ids across your <code>accounts</code> tables? Joins be damned.</p>
<h4>Conclusion</h4>
<p>Hopefully, I've given you a little insight into why you shouldn't start that multi-tenant app using multiple databases or schemas. Yet if you must, I'd love to know how you solved my list of problems. Please leave me a comment with some feedback. Perhaps I missed a pain-point you had to deal with. Enlighten me.</p>
<h4>Sources:</h4>
<ul>
<li>
<p>https://www.barrons.com/articles/3-software-stocks-that-could-be-big-winners-in-2020-51579005001</p>
</li>
<li>
<p>https://blog.lftechnology.com/designing-a-secure-and-scalable-multi-tenant-application-on-node-js-15ae13dda778</p>
</li>
<li>
<p>https://stackify.com/writing-multitenant-asp-net-core-applications/</p>
</li>
<li>
<p>https://medium.com/@venkateshpnk22/how-to-build-a-multi-tenant-application-with-django-rest-framework-part-1-8176d3e315cf</p>
</li>
<li>
<p>https://dev.to/kspeakman/breaking-postgres-with-too-many-tables-4pg0</p>
</li>
</ul>
<p>Originally Posted on <a href="https://dev.to/mrbrazel/the-bad-multi-tenant-saas-pattern-20b4">dev.to</a></p>

        </div>
        <hr />
        <p>Posted on 2020-07-14</p>
        
        <!-- Back to top button -->
        <button id="backToTop" style="
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #27a822;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            z-index: 1000;
        " title="Back to top">â†‘</button>
        
        <script>
            // Back to top functionality
            const backToTopButton = document.getElementById('backToTop');
            
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTopButton.style.display = 'block';
                } else {
                    backToTopButton.style.display = 'none';
                }
            });
            
            backToTopButton.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        </script>
        
        <footer style="margin-top: 3em; padding: 2em 0; border-top: 1px solid #eee; text-align: center; color: #666;">
    <p>
        Â© 2025 Taylor Brazelton | 
        <a href="https://x.com/Ryanb58" target="_blank">Twitter</a> | 
        <a href="https://www.linkedin.com/in/taylorbrazelton/" target="_blank">LinkedIn</a> | 
        <a href="https://github.com/Ryanb58" target="_blank">GitHub</a>
    </p>
</footer>

    </body>
</html>